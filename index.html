<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Deal Finder - Best Deals from Flipkart, Myntra & Amazon</title>
    <meta name="description" content="Find the best deals across Flipkart, Myntra, Amazon. Compare prices and earn rewards!">
    <meta name="theme-color" content="#ff3f6c">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <a href="index.html" class="logo">
                <span class="logo-icon">ğŸ”¥</span>
                <span class="logo-text">Smart<span class="logo-highlight">Deals</span></span>
            </a>
            <nav class="nav-links">
                <a href="#" class="nav-link active">ğŸ·ï¸ Deals</a>
                <a href="#" class="nav-link" id="wishlistNav">â¤ï¸ Wishlist <span class="wishlist-count" id="wishlistCount"></span></a>
                <a href="#" class="nav-link" id="historyNav">ğŸ• History</a>
            </nav>
            <div class="header-right">
                <div id="userSection">
                    <button class="login-btn" onclick="window.location.href='login.html'">
                        <span>ğŸ‘¤</span> Login
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <div class="hero-badge">ğŸ‰ Up to 80% OFF Today!</div>
            <h1>Find <span class="highlight">Amazing Deals</span> Across India</h1>
            <p>Compare prices from Flipkart, Myntra, Amazon & more</p>
            <div class="hero-stats">
                <div class="stat-item">
                    <span class="stat-number">20+</span>
                    <span class="stat-label">Products</span>
                </div>
                <div class="stat-divider"></div>
                <div class="stat-item">
                    <span class="stat-number">3</span>
                    <span class="stat-label">Platforms</span>
                </div>
                <div class="stat-divider"></div>
                <div class="stat-item">
                    <span class="stat-number">80%</span>
                    <span class="stat-label">Max Discount</span>
                </div>
            </div>
        </div>
        <div class="hero-wave"></div>
    </section>

    <!-- Quick Filters -->
    <section class="quick-filters">
        <div class="quick-filters-container">
            <button class="quick-btn hot" data-filter="discount" data-value="50">
                <span class="quick-icon">ğŸ”¥</span> 50%+ Off
            </button>
            <button class="quick-btn" data-filter="platform" data-value="Flipkart">
                <span class="platform-dot flipkart"></span> Flipkart
            </button>
            <button class="quick-btn" data-filter="platform" data-value="Myntra">
                <span class="platform-dot myntra"></span> Myntra
            </button>
            <button class="quick-btn" data-filter="platform" data-value="Amazon">
                <span class="platform-dot amazon"></span> Amazon
            </button>
            <button class="quick-btn" data-filter="category" data-value="Shoes">ğŸ‘Ÿ Shoes</button>
            <button class="quick-btn" data-filter="category" data-value="Mobile">ğŸ“± Mobiles</button>
            <button class="quick-btn" data-filter="category" data-value="Electronics">ğŸ§ Electronics</button>
        </div>
    </section>

    <!-- Filters Section -->
    <section class="filters-section">
        <div class="filters-container">
            <div class="filters-header">
                <h3 class="filters-title">ğŸ¯ Advanced Filters</h3>
                <button class="filters-toggle" id="filtersToggle">
                    <span>Show Filters</span>
                    <span class="toggle-icon">â–¼</span>
                </button>
            </div>
            <div class="filters-grid" id="filtersGrid">
                <!-- Search -->
                <div class="filter-group">
                    <label for="searchQuery">ğŸ” Search</label>
                    <input type="text" id="searchQuery" placeholder="Search products...">
                </div>

                <!-- Platform -->
                <div class="filter-group">
                    <label for="platform">ğŸª Platform</label>
                    <select id="platform">
                        <option value="">All Platforms</option>
                        <option value="Flipkart">Flipkart</option>
                        <option value="Myntra">Myntra</option>
                        <option value="Amazon">Amazon</option>
                    </select>
                </div>

                <!-- Category -->
                <div class="filter-group">
                    <label for="category">ğŸ“‚ Category</label>
                    <select id="category">
                        <option value="">All Categories</option>
                        <option value="Mobile">Mobiles</option>
                        <option value="Electronics">Electronics</option>
                        <option value="Shoes">Shoes</option>
                        <option value="Clothing">Clothing</option>
                        <option value="Home">Home & Kitchen</option>
                    </select>
                </div>

                <!-- Brand -->
                <div class="filter-group">
                    <label for="brand">ğŸ·ï¸ Brand</label>
                    <select id="brand">
                        <option value="">All Brands</option>
                    </select>
                </div>

                <!-- Price Range -->
                <div class="filter-group">
                    <label for="minPrice">ğŸ’° Min Price (â‚¹)</label>
                    <input type="number" id="minPrice" placeholder="0" min="0">
                </div>

                <div class="filter-group">
                    <label for="maxPrice">ğŸ’° Max Price (â‚¹)</label>
                    <input type="number" id="maxPrice" placeholder="No limit" min="0">
                </div>

                <!-- Min Discount -->
                <div class="filter-group">
                    <label for="minDiscount">ğŸ·ï¸ Min Discount (%)</label>
                    <input type="number" id="minDiscount" placeholder="0" min="0" max="100">
                </div>

                <!-- Sort By -->
                <div class="filter-group">
                    <label for="sortBy">ğŸ“Š Sort By</label>
                    <select id="sortBy">
                        <option value="">Relevance</option>
                        <option value="price_low">Price: Low to High</option>
                        <option value="price_high">Price: High to Low</option>
                        <option value="discount">Highest Discount</option>
                        <option value="rating">Highest Rating</option>
                    </select>
                </div>

                <!-- Search Button -->
                <div class="filter-group filter-btn-group">
                    <button class="search-btn" id="searchBtn">
                        <span class="btn-icon">ğŸ”</span> Search Deals
                    </button>
                    <button class="clear-btn" id="clearBtn">âœ• Clear</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Loading Indicator -->
    <div class="loading-container" id="loadingContainer" style="display: none;">
        <div class="loading-spinner"></div>
        <p class="loading-text">ğŸ” Finding best deals for you...</p>
        <p class="loading-subtext">This may take a moment on first load</p>
    </div>

    <!-- Results Section -->
    <section class="results-section">
        <div class="results-header" id="resultsHeader" style="display: none;">
            <h2 id="resultsCount">Found 0 products</h2>
            <div class="view-toggle">
                <button class="view-btn active" data-view="grid" title="Grid View">â–¦</button>
                <button class="view-btn" data-view="list" title="List View">â˜°</button>
            </div>
        </div>

        <div class="products-grid" id="productsGrid">
            <!-- Products will be inserted here by JavaScript -->
        </div>

        <!-- No Results -->
        <div class="no-results" id="noResults" style="display: none;">
            <div class="no-results-icon">ğŸ˜•</div>
            <h3>No products found</h3>
            <p>Try adjusting your filters or search for something else</p>
            <button class="reset-btn" onclick="clearFilters()">Reset Filters</button>
        </div>

        <!-- Initial State -->
        <div class="initial-state" id="initialState">
            <div class="initial-icon">ğŸ›ï¸</div>
            <h3>Start searching for deals!</h3>
            <p>Use the quick filters above or click Search to explore amazing deals</p>
            <button class="explore-btn" id="exploreBtn">Explore All Deals</button>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-brand">
                <span class="footer-logo">ğŸ”¥ SmartDeals</span>
                <p class="footer-tagline">Your Smart Shopping Companion</p>
            </div>
            <div class="footer-info">
                <p>ğŸ’° Earn rewards on every purchase through our affiliate links</p>
                <p class="footer-disclaimer">We may earn commission from purchases made through our links</p>
            </div>
            <div class="footer-bottom">
                <p class="footer-copy">Â© 2024 SmartDeals. Made with â¤ï¸ in India</p>
            </div>
        </div>
    </footer>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyD1He8dbkXc-EpGiB1nUB8Z4m9drOk0Ah4",
            authDomain: "smart-deal-finder-3c8b5.firebaseapp.com",
            projectId: "smart-deal-finder-3c8b5",
            storageBucket: "smart-deal-finder-3c8b5.firebasestorage.app",
            messagingSenderId: "290267259082",
            appId: "1:290267259082:web:d3e16a1e58aa0ee558d433"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // Make db globally available for script.js
        window.db = db;
        window.auth = auth;

        // Check auth state and update header
        auth.onAuthStateChanged((user) => {
            const userSection = document.getElementById('userSection');
            if (user) {
                const displayName = user.displayName || user.email.split('@')[0];
                userSection.innerHTML = `
                    <div class="user-logged-in">
                        <span class="user-avatar-mini">${displayName.charAt(0).toUpperCase()}</span>
                        <span class="user-name">${displayName}</span>
                        <button class="logout-btn-mini" onclick="firebase.auth().signOut()">Logout</button>
                    </div>
                `;
            } else {
                userSection.innerHTML = `
                    <button class="login-btn" onclick="window.location.href='login.html'">
                        <span>ğŸ‘¤</span> Login
                    </button>
                `;
            }
        });

        // Filters toggle for mobile
        document.getElementById('filtersToggle').addEventListener('click', function() {
            const filtersGrid = document.getElementById('filtersGrid');
            const toggleIcon = this.querySelector('.toggle-icon');
            const toggleText = this.querySelector('span:first-child');
            
            filtersGrid.classList.toggle('show');
            if (filtersGrid.classList.contains('show')) {
                toggleIcon.textContent = 'â–²';
                toggleText.textContent = 'Hide Filters';
            } else {
                toggleIcon.textContent = 'â–¼';
                toggleText.textContent = 'Show Filters';
            }
        });

        // Explore all deals button
        document.getElementById('exploreBtn').addEventListener('click', function() {
            document.getElementById('searchBtn').click();
        });

        // Clear filters function
        function clearFilters() {
            document.getElementById('clearBtn').click();
        }
    </script>
    <script src="script.js"></script>
</body>
</html>
